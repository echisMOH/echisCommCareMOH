var retryFrequency=10,delay=0,maxDelay=10000;var intervalID=setInterval(function(){delay+=retryFrequency;if(!document.getElementById("chart")||!document.body.offsetWidth||!document.body.offsetHeight){if(delay>maxDelay){clearInterval(intervalID);}
return;}
clearInterval(intervalID);try{var titleHeight=(document.getElementById('chart-title')||{offsetHeight:0}).offsetHeight;config.size={height:document.body.offsetHeight-titleHeight,width:document.body.offsetWidth,};config.interaction={enabled:true};var formatXTooltip=function(x){return x;}
if(type==="time"){formatXTooltip=d3.time.format(config.axis.x.tick.format);}
config.tooltip={show:true,grouped:type==="bar",contents:function(yData,defaultTitleFormat,defaultValueFormat,color){var html="";for(var i=0;i<yData.length;i++){if(data.isData[yData[i].id]){var yName=config.data.names[yData[i].id];html+="<tr><td>"+yName+"</td><td>"+yData[i].value+"</td></tr>";}}
if(!html){return"";}
if(type==="bar"){html="<tr><td colspan='2'>"+data.barLabels[yData[0].x]+"</td></tr>"+html;}else{html="<tr><td>"+data.xNames[yData[0].id]+"</td><td>"
+formatXTooltip(yData[0].x)+"</td></tr>"
+html;}
html="<table>"+html+"</table>";html="<div id='tooltip'>"+html+"</div>";return html;},};config.point={r:function(d){if(data.radii[d.id]){return 30*data.radii[d.id][d.index]/ data.maxRadii[d.id];}
return 0;},};if(config.axis.x.tick&&!config.axis.x.tick.format){config.axis.x.tick.format=function(d){var key=String(d);if(type==="time"){var time=key.match(/\d+:\d+:\d+/)[0];key=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+" "+time;}
var label=axis.xLabels[key]===undefined?d:axis.xLabels[key];return Math.round(label)||label;};}
if(config.axis.y.tick){config.axis.y.tick.format=function(d){return axis.yLabels[String(d)]||Math.round(d);};}
if(config.axis.y2.tick){config.axis.y2.tick.format=function(d){return axis.y2Labels[String(d)]||Math.round(d);};}
var hideSeries=[];for(var yID in config.data.xs){if(!data.isData[yID]){hideSeries.push(yID);}}
config.legend.hide=hideSeries;var showDataLabels=!!config.data.labels;config.data.labels={format:function(value,id,index){if(showDataLabels&&data.isData[id]){return value||'';}else{return data.annotations[id]||'';}},};config.data.order=false;config.onrendered=function(){for(var yID in data.pointStyles){var symbol=data.pointStyles[yID];applyPointShape(yID,symbol);applyLegendShape(yID,symbol);}
for(var yID in config.data.colors){if(type==="bar"){var bars=d3.selectAll(".c3-bars-"+yID+" path")[0];for(var i=0;i<bars.length;i++){if(data.barColors[yID]&&data.barColors[yID][i]){bars[i].style.fill=data.barColors[yID][i];}
var opacity;if(data.barOpacities[yID]){opacity=data.barOpacities[yID][i];}
opacity=opacity||data.lineOpacities[yID];bars[i].style.opacity=opacity;}}else{var line=d3.selectAll(".c3-lines-"+yID+" path")[0][0];if(line){line.style.opacity=data.lineOpacities[yID];}}
var legend=d3.selectAll(".c3-legend-item-"+yID+" path")[0];if(!legend.length){legend=d3.selectAll(".c3-legend-item-"+yID+" line")[0];}
if(legend.length){legend=legend[0];legend.style.opacity=data.lineOpacities[yID];if(data.barColors[yID]&&data.barColors[yID][0]){legend.style.stroke=data.barColors[yID][0];}}
var points=d3.selectAll(".c3-circles-"+yID+" path")[0];if(!points.length){points=d3.selectAll(".c3-circles-"+yID+" circle")[0];}
for(var i=0;i<points.length;i++){points[i].style.opacity=data.lineOpacities[yID];}}
for(var yID in data.areaColors){var area=d3.selectAll(".c3-areas-"+yID+" path")[0][0];if(area){area.style.fill=data.areaColors[yID];area.style.opacity=data.areaOpacities[yID];}}
var androidDelay=0;var androidIntervalID=setInterval(function(){androidDelay+=retryFrequency;if(!window.Android){if(androidDelay>maxDelay){clearInterval(androidIntervalID);}
return;}
clearInterval(androidIntervalID);Android.run();});};c3.generate(config);}catch(e){displayError(e);}},retryFrequency);function applyPointShape(yID,symbol){if(type==='bar'||type==='bubble'){return;}
var circleSet=d3.selectAll(".c3-circles-"+yID);var circles=circleSet.selectAll("circle")[0];if(!circles){return;}
for(var j=0;j<circles.length;j++){circles[j].style.opacity=0;appendSymbol(circleSet,circles[j].cx.baseVal.value,circles[j].cy.baseVal.value,symbol,circles[j].style.fill);}}
function applyLegendShape(yID,symbol){if(symbol!=="none"){var legendItem=d3.selectAll(".c3-legend-item-"+yID);var line=legendItem.selectAll("line");if(!line||!line.length){return;}
line=line[0][0]
line.style.opacity=0;appendSymbol(legendItem,line.x1.baseVal.value+5,line.y1.baseVal.value,symbol,line.style.stroke);}}
function appendSymbol(parent,x,y,symbol,color){if(symbol==='none'){return;}
parent.append("path").attr("transform",function(d){return"translate("+x+", "+y+")";}).attr("class","symbol").attr("d",d3.svg.symbol().type(symbol).size(50)).style("fill",color).style("stroke",color);}
function displayError(message){console.log(message);var error=document.getElementById('error');error.innerHTML=message;error.style.display='block';}